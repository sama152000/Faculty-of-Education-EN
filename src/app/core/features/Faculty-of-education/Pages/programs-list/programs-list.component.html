<div class="programs-container">
  <app-page-header
    [title]="'البرامج الأكاديمية'"
    [breadcrumbs]="[{label: 'البرامج الأكاديمية'}]">
  </app-page-header>

  <div class="content-wrapper">
    <div class="main-content">
      <div class="search-section">
        <span class="p-input-icon-left search-input-wrapper">
          <i class="pi pi-search"></i>
          <input
            type="text"
            pInputText
            [(ngModel)]="searchTerm"
            (input)="onSearch()"
            placeholder="ابحث عن البرنامج..."
            class="search-input" />
        </span>
      </div>

      <div class="programs-grid">
        <p-card
          *ngFor="let program of filteredPrograms"
          class="program-card"
          [styleClass]="'custom-card'">
          <ng-template pTemplate="header">
            <div class="card-image-wrapper">
              <img [src]="program.images[0]" [alt]="program.nameAr" class="card-image" />
              <div class="card-overlay"></div>
            </div>
          </ng-template>

          <div class="card-content">
            <h3 class="program-title">{{ program.nameAr }}</h3>
            <h4 class="program-title-en">{{ program.nameEn }}</h4>

            <p-divider></p-divider>

            <p class="program-description">{{ program.shortDescriptionAr }}</p>

            <div class="program-meta">
              <div class="meta-item">
                <i class="pi pi-clock"></i>
                <span>{{ program.duration }}</span>
              </div>
              <div class="meta-item">
                <i class="pi pi-graduation-cap"></i>
                <span>{{ program.degreeAr }}</span>
              </div>
            </div>
          </div>

          <ng-template pTemplate="footer">
            <div class="card-footer">
              <p-button
                label="عرض التفاصيل"
                icon="pi pi-arrow-left"
                [routerLink]="['/programs', program.id]"
                styleClass="p-button-primary"
                [style]="{'width': '100%'}">
              </p-button>
            </div>
          </ng-template>
        </p-card>
      </div>

      <div *ngIf="filteredPrograms.length === 0" class="no-results">
        <i class="pi pi-search"></i>
        <h3>لا توجد نتائج</h3>
        <p>لم يتم العثور على برامج تطابق بحثك</p>
      </div>
    </div>

    <aside class="sidebar">
      <div class="sidebar-card">
        <h3 class="sidebar-title">
          <i class="pi pi-list"></i>
          جميع البرامج
        </h3>
        <p-divider></p-divider>
        <ul class="programs-list">
          <li *ngFor="let program of programs"
              class="program-item"
              [class.active]="selectedProgram?.id === program.id">
            <a [routerLink]="['/programs', program.id]" (click)="selectProgram(program)">
              <i class="pi pi-angle-left"></i>
              <span>{{ program.nameAr }}</span>
            </a>
          </li>
        </ul>
      </div>
    </aside>
  </div>
</div>
